(this["webpackJsonpbookstore-react-redux"]=this["webpackJsonpbookstore-react-redux"]||[]).push([[0],{46:function(t,e,c){},47:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),r=c(16),o=c.n(r),s=c(5),i=c(13),l=c(18),u=c(27),j=c.n(u),b=c(28),d=c(22),h=c.n(d),O=c(29),m=c(24),p="bookstore/book/LOAD_BOOKS",x="bookstore/book/REMOVE_BOOK",f="bookstore/book/GET_BOOKS";function v(t){return{type:f,books:t}}var y=[];var N=function(){return function(){var t=Object(O.a)(h.a.mark((function t(e){var c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi",t.next=3,fetch("".concat("https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi","/apps/nU7PpkbrGSD80b3w1Lzl/books/"));case 3:return c=t.sent,t.next=6,c.json();case 6:n=t.sent,e(v(n));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(t){return function(e){fetch("".concat("https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi","/apps/nU7PpkbrGSD80b3w1Lzl/books/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.text()})).then((function(){e(N())}))}},g=function(t){return function(e){fetch("".concat("https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi","/apps/nU7PpkbrGSD80b3w1Lzl/books/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:t})}).then((function(t){return t.text()})).then((function(){e(N())}))}},$=Object(l.b)({books:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e.book,n=e.id,a=e.type,r=e.books;switch(a){case p:return[].concat(Object(m.a)(t),[c]);case f:return Object(m.a)(Object.entries(r).map((function(t){return{id:t[0],title:t[1][0].title,category:t[1][0].category}})));case x:return t.filter((function(t){return t.id!==n}));default:return t}}}),C=Object(l.c)($,Object(l.a)(j.a,b.a)),S=c(3),w=c(4),D=c(11),P=c(10),A=c(48),E=c(0),B=function(t){var e=t.value,c=t.content;return Object(E.jsx)("option",{value:e,children:c})},F=function(t){var e=t.title,c=t.category,a=t.id,r=t.setEditBook,o=[{value:"Fiction",content:"Fiction"},{value:"Nonfiction",content:"Nonfiction"},{value:"Drama",content:"Drama"},{value:"Folktale",content:"Folktale"},{value:"Poetry",content:"Poetry"}],i=e.split("<*)$!?^|^?!$(*>"),l=Object(w.a)(i,7),u=l[0],j=l[1],b=l[2],d=l[3],h=l[4],O=l[5],m=l[6],p=Object(n.useState)({title:u,author:j,completed:b,category:c,chapters:d,currChapter:h,comments:O,timeStamp:m}),x=Object(w.a)(p,2),f=x[0],v=x[1],y=Object(s.b)(),N=function(t){var e=t.target,c=e.name,n=e.value;v((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(D.a)({},c,n))}))};return Object(E.jsx)("section",{className:"edit-container",children:Object(E.jsxs)("form",{className:"edit-form",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:"Title: "}),Object(E.jsx)("input",{name:"title",type:"text",onChange:N,value:f.title,placeholder:"Book title",className:"book-title"})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:"Category: "}),Object(E.jsx)("select",{className:"book-category",name:"category",onChange:N,value:f.category,id:"books",children:o.map((function(t,e){var c=t.value,n=t.content;return Object(E.jsx)(B,{index:e,value:c,content:n},Math.random())}))})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:"Author: "}),Object(E.jsx)("input",{name:"author",type:"text",onChange:N,value:f.author,placeholder:"Author",className:"book-author"})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:"Chapters: "}),Object(E.jsx)("input",{name:"chapters",type:"number",onChange:N,value:f.chapters,placeholder:"Chapters",className:"book-chapters"})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{onClick:function(){return r((function(t){return!t}))},type:"button",children:"Cancel"}),Object(E.jsx)("button",{onClick:function(){y(g(a));var t={title:"".concat(f.title,"<*)$!?^|^?!$(*>").concat(f.author,"<*)$!?^|^?!$(*>").concat(f.completed,"<*)$!?^|^?!$(*>").concat(f.chapters,"<*)$!?^|^?!$(*>").concat(f.currChapter,"<*)$!?^|^?!$(*>").concat(f.comments,"<*)$!?^|^?!$(*>").concat(f.timeStamp),category:f.category,item_id:Object(A.a)()};return setTimeout((function(){return y(k(t))}),1e3),v((function(){return{title:"",category:"Fiction",author:"",completed:"0%",chapters:"",currChapter:"0"}})),!0},type:"button",children:"Save"})]})]})})},I=function(t){var e=Object(s.b)(),c=Object(n.useState)({name:"",comment:""}),a=Object(w.a)(c,2),r=a[0],o=a[1],i=t.title,l=t.setShowComments,u=i.split("<*)$!?^|^?!$(*>"),j=Object(w.a)(u,6)[5],b=function(t){var e=t.target,c=e.name,n=e.value;o((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(D.a)({},c,n))}))};return Object(E.jsx)("div",{className:"edit-container",children:Object(E.jsxs)("div",{children:[Object(E.jsx)("table",{children:Object(E.jsx)("tbody",{children:JSON.parse(j).map((function(t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:t.name}),Object(E.jsx)("td",{children:t.comment}),Object(E.jsx)("td",{children:t.date})]},Object(A.a)())}))})}),Object(E.jsxs)("form",{children:[Object(E.jsx)("input",{name:"name",type:"text",onChange:b,value:r.name,placeholder:"Name",className:"name"}),Object(E.jsx)("textarea",{name:"comment",type:"text",onChange:b,value:r.comment,placeholder:"Add your comment",className:"comment"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{onClick:function(){return l((function(t){return!t}))},type:"button",children:"Cancel"}),Object(E.jsx)("button",{onClick:function(){var c=t.id,n=t.title,a=t.category,o=n.split("<*)$!?^|^?!$(*>"),s=Object(w.a)(o,7),i=s[0],l=s[1],u=s[2],j=s[3],b=s[4],d=s[5],h=s[6];e(g(c)),r.date=(new Date).toLocaleDateString();var O=JSON.parse(d);O.push(r);var m=JSON.stringify(O),p={title:"".concat(i,"<*)$!?^|^?!$(*>").concat(l,"<*)$!?^|^?!$(*>").concat(u,"<*)$!?^|^?!$(*>").concat(j,"<*)$!?^|^?!$(*>").concat(b,"<*)$!?^|^?!$(*>").concat(m,"<*)$!?^|^?!$(*>").concat(h),category:a,item_id:Object(A.a)()};setTimeout((function(){return e(k(p))}),1e3)},type:"button",children:"Add Comment"})]})]})]})})},T=function(t){var e=t.title,c=t.id,a=t.category,r=t.setShowProgress,o=Object(s.b)(),i=e.split("<*)$!?^|^?!$(*>"),l=Object(w.a)(i,7),u=l[0],j=l[1],b=l[2],d=l[3],h=l[5],O=l[6],m=Object(n.useState)(0),p=Object(w.a)(m,2),x=p[0],f=p[1];return Object(E.jsx)("div",{className:"edit-container",children:Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:"Select Current Progress"}),Object(E.jsx)("select",{className:"chapter",name:"chapter",onChange:function(t){var e=t.target.value;f((function(){return e}))},value:x,children:function(){for(var t=[],e=parseInt(d,10),c=1;c<=e;c+=1)t.push(c);return t.map((function(t,e){return Object(E.jsx)(B,{value:t,content:"Chapter ".concat(t),index:e},Math.random())}))}()}),Object(E.jsx)("button",{onClick:function(){return r((function(t){return!t}))},type:"button",children:"Cancel"}),Object(E.jsx)("button",{onClick:function(){o(g(c));var t={title:"".concat(u,"<*)$!?^|^?!$(*>").concat(j,"<*)$!?^|^?!$(*>").concat(b,"<*)$!?^|^?!$(*>").concat(d,"<*)$!?^|^?!$(*>").concat(x,"<*)$!?^|^?!$(*>").concat(h,"<*)$!?^|^?!$(*>").concat(O),category:a,item_id:Object(A.a)()};setTimeout((function(){return o(k(t))}),1e3)},type:"button",children:"Update Progress"})]})})},M=function(t){var e=t.title,c=t.category,a=t.id,r=t.index,o=Object(n.useState)(!1),i=Object(w.a)(o,2),l=i[0],u=i[1],j=Object(n.useState)(!1),b=Object(w.a)(j,2),d=b[0],h=b[1],O=Object(n.useState)(250),m=Object(w.a)(O,2),p=m[0],x=m[1],f=Object(n.useState)(!1),v=Object(w.a)(f,2),y=v[0],N=v[1],k=e.split("<*)$!?^|^?!$(*>"),$=Object(w.a)(k,5),C=$[0],S=$[1],D=$[3],P=$[4],A=Object(s.b)();return Object(n.useEffect)((function(){var t=document.querySelector(".some".concat(r)),e=251-251/parseInt(D,10)*parseInt(P,10);t.style.strokeDashoffset=e}),[p]),Object(E.jsxs)("div",{className:"book",children:[l&&Object(E.jsx)(F,{title:e,category:c,id:a,setEditBook:u}),d&&Object(E.jsx)(I,{title:e,id:a,category:c,setShowComments:h}),y&&Object(E.jsx)(T,{title:e,id:a,category:c,setShowProgress:N,setProgressValue:x}),Object(E.jsxs)("div",{className:"part1",children:[Object(E.jsxs)("div",{className:"part1-first",children:[Object(E.jsx)("div",{className:"category",children:c}),Object(E.jsx)("div",{className:"title",children:C}),Object(E.jsx)("div",{className:"author",children:S})]}),Object(E.jsxs)("div",{className:"part1-second",children:[Object(E.jsx)("button",{onClick:function(){return h((function(t){return!t}))},className:"comment-button",type:"button",children:"Comment"}),"|",Object(E.jsx)("button",{className:"remove-button",type:"button",onClick:function(){return A(g(a))},children:"Remove"}),"|",Object(E.jsx)("button",{onClick:function(){return u((function(t){return!t}))},className:"edit-button",type:"button",children:"Edit"})]})]}),Object(E.jsxs)("div",{className:"part2And3",children:[Object(E.jsxs)("div",{className:"part2",children:[Object(E.jsxs)("svg",{className:"svg",width:"150",height:"150",children:[Object(E.jsx)("circle",{className:"circle-back",cx:"50",cy:"80",r:"40"}),Object(E.jsx)("circle",{className:"some".concat(r," circle-front"),cx:"50",cy:"80",r:"40"})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"percent",children:"".concat(parseInt(100/parseInt(D,10)*parseInt(P,10),10),"%")}),Object(E.jsx)("div",{className:"completed",children:"completed"})]})]}),Object(E.jsx)("div",{className:"pipe"}),Object(E.jsxs)("div",{className:"part3",children:[Object(E.jsx)("div",{className:"current-chapter",children:"Current Chapter"}),Object(E.jsx)("div",{className:"chapter",children:Object(E.jsx)("span",{className:"capterXOfY",children:"Chapter ".concat(P," of ").concat(D)})}),Object(E.jsx)("button",{onClick:function(){return N((function(t){return!t}))},className:"update-button",type:"button",children:"Update Progress"})]})]})]})},J=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t})),c=e.books.length?e.books:[];c.map((function(t){var e=t,c=e.title.split("<*)$!?^|^?!$(*>"),n=Object(w.a)(c,7)[6];return e.timeStamp=n,e}));var a=c.sort((function(t,e){return parseInt(t.timeStamp,10)-parseInt(e.timeStamp,10)})).map((function(t,e){var c=t.title,n=t.category,a=t.id;return Object(E.jsx)(M,{title:c,category:n,id:a,index:e},Math.random())}));return Object(n.useEffect)((function(){t(N())}),[]),Object(E.jsx)("div",{className:"all-books",children:a})},_=function(){return Object(E.jsx)("div",{children:Object(E.jsx)(J,{})})},U=function(){return Object(E.jsx)("div",{className:"category-page",children:"Under construction..."})},K=function(){return Object(E.jsx)("h1",{children:"Page Not Found"})},L=function(){return Object(E.jsx)("footer",{className:"footer",children:Object(E.jsx)("p",{className:"footer-text",children:"Created with \ud83d\udc96 by Henry Kc at Microverse Inc., US."})})},G=function(){var t=Object(s.b)(),e=Object(n.useState)({title:"",category:"Fiction",author:"",chapters:"",currChapter:"1",completed:"0%",comments:[]}),c=Object(w.a)(e,2),a=c[0],r=c[1],o=[{value:"Fiction",content:"Fiction"},{value:"Nonfiction",content:"Nonfiction"},{value:"Drama",content:"Drama"},{value:"Folktale",content:"Folktale"},{value:"Poetry",content:"Poetry"}],i=function(t){var e=t.target,c=e.name,n=e.value;r((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(D.a)({},c,n))}))},l=a.title,u=a.category,j=a.author,b=a.chapters;return Object(E.jsxs)("div",{className:"form-container",children:[Object(E.jsx)("h1",{className:"add-new",children:"Add New Book"}),Object(E.jsxs)("form",{className:"form",children:[Object(E.jsx)("input",{name:"title",type:"text",onChange:i,value:l,placeholder:"Book title",className:"book-title"}),Object(E.jsx)("input",{name:"author",type:"text",onChange:i,value:j,placeholder:"Author",className:"book-author"}),Object(E.jsx)("input",{name:"chapters",type:"number",onChange:i,value:b,placeholder:"Chapters",className:"book-chapters"}),Object(E.jsx)("select",{className:"book-category",name:"category",onChange:i,value:u,id:"books",children:o.map((function(t,e){var c=t.value,n=t.content;return Object(E.jsx)(B,{index:e,value:c,content:n},Math.random())}))}),Object(E.jsx)("button",{onClick:function(){var e=a.title,c=a.author,n=a.completed,o=a.category,s=a.chapters,i=a.currChapter,l=a.comments;if(!e||!c||!s)return!1;var u=JSON.stringify(l),j={title:"".concat(e,"<*)$!?^|^?!$(*>").concat(c,"<*)$!?^|^?!$(*>").concat(n,"<*)$!?^|^?!$(*>").concat(s,"<*)$!?^|^?!$(*>").concat(i,"<*)$!?^|^?!$(*>").concat(u,"<*)$!?^|^?!$(*>").concat((new Date).getTime()),category:o,item_id:Object(A.a)()};return t(k(j)),r((function(t){return Object(P.a)(Object(P.a)({},t),{},{title:"",author:"",chapters:"",category:"Fiction"})})),!0},type:"button",className:"add-book-btn",children:"ADD BOOK"})]})]})},R=c(31),z=function(t){var e=t.route,c=t.name;return 0===t.index?Object(E.jsx)("li",{className:"list-item first",children:Object(E.jsx)(i.b,{className:"item",to:e,activeClassName:"active-link",exact:!0,children:c})}):Object(E.jsx)("li",{children:Object(E.jsx)(i.b,{className:"item",to:e,activeClassName:"active-link",exact:!0,children:c})})},V=function(){var t=[{route:"/",name:"BOOKS"},{route:"/categories",name:"CATEGORIES"}];return Object(E.jsxs)("nav",{className:"navbar",children:[Object(E.jsxs)("div",{className:"name-list-container",children:[Object(E.jsx)("h1",{className:"app-name",children:"Bookstore CMS"}),Object(E.jsx)("ul",{className:"list-items",children:t.map((function(t,e){return Object(E.jsx)(z,{index:e,name:t.name,route:t.route},Math.random())}))})]}),Object(E.jsx)("div",{className:"user",children:Object(E.jsx)(R.a,{className:"fa-user"})})]})},q=function(){return Object(E.jsxs)("div",{className:"main",children:[Object(E.jsxs)("section",{children:[Object(E.jsx)(V,{}),Object(E.jsxs)(S.c,{children:[Object(E.jsxs)(S.a,{exact:!0,path:"/",children:[Object(E.jsx)(_,{}),Object(E.jsx)(G,{})]}),Object(E.jsx)(S.a,{path:"/categories",children:Object(E.jsx)(U,{})}),Object(E.jsx)(S.a,{path:"*",children:Object(E.jsx)(K,{})})]})]}),Object(E.jsx)("section",{children:Object(E.jsx)(L,{})})]})};c(46);o.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(i.a,{basename:"/Bookstore-React-Redux",children:Object(E.jsx)(s.a,{store:C,children:Object(E.jsx)(q,{})})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.efdb1387.chunk.js.map